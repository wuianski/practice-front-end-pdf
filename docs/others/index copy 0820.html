<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>美術館刊物與它的數位想像</title>

    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/konva@7.0.4/konva.min.js"></script>
    <script src="lib/pdf-lib.min.js"></script>
    <script src="lib/download.js"></script>
</head>

<body>

    <img id="site_logo" src="assets/imgs/site_logo.png" alt="'site logo">

    <!---- menu  ---->
    <div id="menu">
        <div onclick="popUp1()">
            <img class="bt" id="bt1" src="assets/imgs/bt1.png" alt="button info">
        </div>
        <div onclick="popUp2()">
            <img class="bt" id="bt2" src="assets/imgs/bt2.png" alt="button share">
        </div>
        <div>
            <img class="bt" id="bt3" src="assets/imgs/bt3.png" alt="button link">
        </div>
    </div>

    <!---- Slides container ---->
    <div class="slides_container show" id="popup_slide">

        <!---- Full-width images with number and caption text ---->
        <div class="mySlides fade">
            <picture>
                <source media="(max-width: 799px)" srcset="assets/imgs/slide1_mobile.png">
                <source media="(min-width: 800px)" srcset="assets/imgs/slide1.png">
                <img id="slideW1" src="assets/imgs/slide1.png" alt="introduction">
            </picture>
        </div>

        <div class="mySlides fade">
            <picture>
                <source media="(max-width: 799px)" srcset="assets/imgs/slide2_mobile.png">
                <source media="(min-width: 800px)" srcset="assets/imgs/slide2.png">
                <img id="slideW2" src="assets/imgs/slide2.png" alt="guide">
            </picture>
            <!--<div id="subs">Caption Two</div>-->
        </div>

        <!---- Next and previous buttons ---->
        <a class="prev" onclick="plusSlides(-1)"><img class="arrow" src="assets/imgs/arrow_l.png" alt="prev slide"></a>
        <a class="next" onclick="plusSlides(1)"><img class="arrow" src="assets/imgs/arrow_r.png" alt="next slide"></a>
    </div>

    <!---- Share container ---->
    <div class="share_container show2" id="popup_share">
        <div class="myShare fade">
            <picture>
                <source media="(max-width: 799px)" srcset="assets/imgs/share_mobile.png">
                <source media="(min-width: 800px)" srcset="assets/imgs/share.png">
                <img id="share_bg" src="assets/imgs/share.png">
            </picture>
            <div onclick="close_share()">
                <img id="close_btn" src="assets/imgs/close.png">
            </div>
            <div onclick="download_pdf()">
                <img id="download_pdf" src="assets/imgs/download_pdf.png">
            </div>
            <div onclick="share_img()">
                <img id="share_img" src="assets/imgs/share_img.png">
            </div>
        </div>
    </div>

    <p>Height</p>
    <div id="results"></div>

    <!--<div class="container" id="canvas"></div>-->

    <script>
        // addEventListener support for IE8
        function bindEvent(element, eventName, eventHandler) {
            if (element.addEventListener) {
                element.addEventListener(eventName, eventHandler, false);
            } else if (element.attachEvent) {
                element.attachEvent('on' + eventName, eventHandler);
            }
        }

        var iframeSource = 'assets/articles/A1.html';

        // Create the iframe
        var iframe = document.createElement('iframe');
        iframe.setAttribute('src', iframeSource);
        iframe.setAttribute('id', 'A1_iframe');

        document.body.appendChild(iframe);

        // Listen to message from child window
        bindEvent(window, 'message', function (e) {
            results.innerHTML = e.data;
            //test(e.data);
            console.log(results.innerHTML);
        });

        /*function test(msg) {
            return msg;
            console.log(msg);
        }*/
        /*
                window.onmessage = (a1) => {
                    var t = a1.data;
                    //document.getElementById("results").style.height = `${t}px`;
                    return t;
                    //console.log(t);
                };
        */

        var iframeSource2 = 'assets/articles/A2.html';

        // Create the iframe
        var iframe2 = document.createElement('iframe');
        iframe2.setAttribute('src', iframeSource2);
        iframe2.setAttribute('id', 'A2_iframe');

        document.body.appendChild(iframe2);
    </script>

    <!--<script src="myKonva.js"></script>-->

    <!--<script src="pdf.js"></script>-->
    <script src="transition.js"></script>
</body>

</html>